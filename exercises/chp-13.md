
# 13장 연습문제

**01 몽고DB 에 관한 설명으로 옳지 않은 것은?**

4. 관계형 데이터베이스와 동일한 질의 기능을 지원한다.

**02 몽고DB 의 주요 특성으로 거 리가 먼 것은?**

2. 휘발성 (volatile)

**03 컬렉션(collection) 에 관한 설명으로 옳지 않은 것은?**

1. 컬렉션도 정해진 고정 스키마를 갖는다.

**04 몽고DB의 동적 스키마에 관한 설명으로 옳지 않은 것은?**

4. 스키마를 변경하거나 데이블을 추가하는 등 대웅이 복잡하고 어렵다.

**05 몽고OB의 '_id' 필드에 관한 설명으로 옳은 것은?**

1. 저장된 모든 문서는 '_id' 필드를 가진다.

**06 다음문장이 참이면 O, 거짓이면 X 를하시오.**

1. 몽고DB는 대표적 비관계형 DBMS로서 개발이 쉽고 유연하며 확장성이 높다. ( 0 )
2. 몽고DB는 JSON 형식의 문서를 사용하지만 데이터베이스 저장시에는 이진 포맷으로 인코딩한 BSON 형식의 문서로 변환되어 저장된다. ( 0 )
3. 몽고DB는 별도의 스키마 선언 없이도 릴레이션에 해당하는 컬렉션을 생성할 수 있다. ( 0 )
4. 몽고DB 쉘에 집속하기 위해서는 우선 mongod 인스턴스가 실행되어야 한다. ( 0 )
5. find() 명령어 함수 뒤의 pretty() 명령어 함수는 배열과 내장 문서와 같이 복잡한 계층 문서들의 내용을 정돈해서 보기 쉽도록 표시해준다. ( 0 )
6. findOne() 명령어 함수는 커서 객체를 반환하며 여러 문서를 검색 결과를 통해 얻고자 할 경우 사용하며 커서를 활용하여 문서 처리 작업을 반복한다. ( x )
7. updateOne(), updateMany() 명령어 함수는 특정 필드값을 바꾸거나 필드 아름을 변경, 또는 필드를 삭제하는 등의 문서 수정을 수행한다. ( 0 )
8. replaceOne() 명령어 함수는 문서 변경이 아니라 교체이기 때문에 기존 문서 내용은 전부 사라지지만 문서 고유의 값인 '_id' 필드값은 바뀌지 않는다. ( 0 )
9. 몽고DB는 관계형 DB처럼 색인 사용이 불가능하다. ( x )

**07 다음 ( ) 안에 적당한 용어를 채워 완성하시오.**

1. 몽고DB에서 가용성을 향상시키기 위한 ( 확장성 )은 데이터베이스의 데이터를 수평 분할(horizontal partitioning)하여 여러 서버에 분산 저장하는 방식이다.
2. 몽고DB의 기본 구성 요소중에서 ( 컬렉 )은 문서의 모음으로 동적 스키마를 갖는 데이블과 같다.
3. 몽고DB ( 쉘 )은 문서에 대한 질의뿐만 아니라 관리나 실행중인 인스턴스를 점검하는데 유용한 도구로써 자바스크립트 해석 기능을 가지고 있어 자바스크립트 프로그램 작성과 실행이 가능하다.
4. ( replaceOne())() 명령어 함수는 특정 문서를 찾아서 새로운 문서로 교체한다.
5. 몽고DB에서 컬렉션에 문서 하나를 추가하는 명령어는 (insertOne() )()이다.

**08 다음 릴레이션 관련 SQL 명령문에 대응하는 컬렉션 관련 몽고DB 명령문(1~2）을 작성하시오.**

```sql
#1
CREATE TABLE 회원(
_id INT NOT NULL AUTO_INCREMENT,
나이 INT NULL,
생성 성별 char(1) NULL,
메모 varchar(100) NULL,
PRIMARY KEY(_id)
);

#2
ALTER TABLE 회원
ADD 탈퇴 날짜 DATETIME;

#3
DROP TABLE 회원;
```

1. db.creatCollection("회원")
2. db.updateMany({}, {$set: {탈퇴날짜 : ""}})
3. db.회원.drop()

**09 다음 투플 관련 SQL 명령문에 대응하는 문서 관련 몽고DB 명령문(1~9)을 작성하시오.**

```sql
#1
INSERT INTO 회원(_id, 나이, 성별, 메모)
VALUES ("m111" ,55, "남" , null);

#2
INSERT INTO 회원(_id, 나이, 성별, 메모)
VALUES ("m222", null, null, "임시 회원임");

#3
SELECT * FROM 회원;

#4
SELECT _id, 성별
FROM 회원 WHERE 성별 != "남";

#5
SELECT * FROM 회원 WHERE 성별 = "남" ORDER BY 나이 ASC;

#6
SELECT COUNT(_id) FROM 회원;

#7
UPDATE 회원
SET 성별="여"
WHERE 나이 > 25;

#8
DELETE FROM 회원;

#9
DELETE FROM 회원
WHERE 성별="여"
```

1. db.회원.insertOne({_id: "m111", 나이: 55, 성별: "남"});
2. db.회원.insertOne({_id: "mw222", 나이: null, 성별: null, 메모: "임시 회원임"});
3. db.회원.find();
4. db.회원.findOne({성별: {$nin: ["남"]}}); 
5. db.회원.find({성별: "남"}).sort({나이: 1});
6. db.회원.find({_id:{$exist:true}}).count();
7. db.회원.updateMany({$set: {성별: "여"}}, {나이: {$gt: 25}});
8. db.회원.deleteMany({});
9. db.회원.deleteMany({성별: "여"});

**10 4가지 NoSQL 데이터베이스 유형의 특성을 비교 • 요약하시오.**
키-값 데이터베이스: NoSQL 데이터베이스 중 가장 단순하고 기본적인 형태.  모든 데이터를 '키'와 '값'의 쌍으로 매핑하여 저장.  조회를 위한 유일한 키와 하나의 데이터 값을 매핑해 정해진 스키마 없이 저장.  데이터 분활 가능하고 다른 데이터베이스로는 불가능한 수준까지 수평 확장 가능. 단점은 특정값 검색에는 효율적이지만 데이터 정렬, 그룹화, 범위 검색 등이 어렵다.  키는 값을 접근하기 위한 식별자.  연관된 데이터 모임을 구별하기 위한 일종의 표식.  값은 키와 함께하는 저장되는 데이터.  숫자, 문자, 이미지, 이진값 등 모든 유형을 저장가능.  하나의 값은 단지 바이트 배열일 뿐. 스키마도 없고 데이터 유형 등의 개념도 없다.  데이터 유형을 제한하지 않고 유연성을 부여하므로 데이터 길이와 유형 변경 가능.
문서 데이터베이스: 키-값 데이터베이스의 발전된 형태로 반구조적 데이터의 저장과 검색에 사용. 차이점은 키에 대응하는 값이 문서라는 점.  '키-문서' 데이터베이스 형태로 키에 대응하는 각각의 문서는 속성과 속성에 대응하는 데이터를 가짐. 문서는 반수조화된 데이터 형태로 계층적 구조를 가지며 객체와 유사하게 하나의 단위로 취급.  JSON, XML문서 등이 이에 속함. 각 제품마다 저장할 속성 개수도, 속성 유형도 다른 경우 효율적.  스키마를 정의할 필요 없어 유연함.  문서를 추가하는 것만으로도 데이터 구조를 생성 가능.  같은 개체 유형이라도 데이터 구조를 생성 가능.  같은 개체 유형이라도 서로 다른 속성 허용.  스키마가 자주 바뀌거나 저장할 데이터가 복잡한 계층 구조를 가질 경우 또 문소간의 비교보다는 문서 자체의 검색과 변경이 대부분일 경우 효과적.
컬럼 패밀리 데이터베이스: 구조면에서 가장 복잡한 유형.  테이블 형식으로 저장하므로 관계형 데이터베이스와 비슷한 점 많음.  기본 저장 단위는 컴럼으로키에 대응되는 조합으로 된 여러 개의 필드 갖는다. 컬럼을 기반으로 컬럼 단위로 묶어서 저장하는 컬럼지향 데이터베이스.  하나의 행에 많은 컴럼을 포함할 수 있어서 유연성이 높고 분산 저장과 확장이 가능하여 빅데이터에 유리한 구조.  컬럼 패밀리가 모여서 하나의 객체를 표현하며 테이블 구성. 미리 정의된 고정 스키마를 사용하지 않으므로 얼마든지 컬럼을 추가할 수 있다.
그래프 방식: 데이터를 데이터 간의 관계와 함께 표현하는 특수한 유형.  많은 객체 간의 연결을 표현하는데 적합.  객체를 표현하는 '노드'와 두 객체 사이의 연결 관계를 보여주는 '링크' 두 요소를 사용.  노드에는 식별자와 객체 속성을, 링크에는 노드간의 연관 속성을 저장.  모든 노드는 인접한 다른 객체를 가리키는 포인터가 있어 그래프 경로를 따라가는 질의를 빠르게 처리 가능.  특정 도시간의 가장 빠른 경로를 조회하거나 회원 간의 추천 관계를 통해 회원 간의 영향력, 친밀도 등의 관계 정보를 효과적으로 질의 가능.


**11 몽고DB와 관계형 데이터베이스를 비교 • 설명하시오.**
몽고DB: 데이터 베이스, 컬렉션, BSON문서, BSON 필드, 문서 연결 및 내포, 기본키, 모든 문서가 동일, 참조, 색인
관계형 데이터베이스: 데이터 베이스, 관계, 테이블, 투플, row, 레코드, 속성, column, 조인, 기본키, 테이블마다 다름, 외래키, 색인인








chp13.md
chp13.md 표시 중입니다.
